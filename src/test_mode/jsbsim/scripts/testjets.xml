<?xml version="1.0"?>

<runscript name="testjets">

    <!--    development script to test led functions  -->
    <!--    specify aircraft & init files here        -->
    <use aircraft = "ledjets" initialize="ledinit"/>
    
    <!--    specify events here                       -->
    <run start = "0.0" end = "20" dt = "0.2">
    
        <!--    initialization                        -->
  
        <!--    start with no spin                    -->
        <event name="start" continuous="true">
            <description>basic spin test in both directions</description>
            <condition> simulation/sim-time-sec ge 0.0 </condition>
            <set name="testmode/testspin">
                <function>
                    <table>
                        <independentVar lookup="row">simulation/sim-time-sec</independentVar>
                        <tableData>
                            1.0     0.0
                            2.0     0.0
                            3.0     0.0
                            4.0     0.0
                            5.0     5.0
                            6.0     5.0
                            7.0     5.0
                            8.0     5.0
                            9.0     0.0
                            10.0    0.0
                            11.0    0.0
                            12.0    0.0
                            13.0    -5.0
                            14.0    -5.0
                            15.0    -5.0
                            16.0    -5.0
                            17.0    0.0
                            18.0    0.0
                            19.0    0.0
                            20.0    0.0
                        </tableData>
                    </table>
                </function>
            </set>
            <set name="testmode/testjets" type="delta">
                <function>
                    <sum>
                        <product>
                            <property>testmode/ledcw</property>
                            <property>testmode/thrustcw</property>
                        </product>
                        <product>
                            <property>testmode/ledccw</property>
                            <property>testmode/thrustccw</property>
                        </product>
                    </sum>
                </function>
                
            </set>
            <notify/>
        </event>        
    </run>
</runscript>
